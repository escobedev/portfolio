<div class="persistent-viewport-title"
    [style.margin-top]="load() ? '64px' : '0px'"
    [style.height]="load() ? '3em' : '100dvh'"
>
    <app-typing-text [text]="title"/>
</div>

@if (load()) {
    <div class="about-me">
        <div class="main relative">
            <div class="content">
                @for (paragraph of paragraphs; track $index) {
                    <p class="placeholder" [style.font-family]="'Roboto Mono'" [innerHTML]="paragraph"></p>
                }
            </div>
            <div class="content absolute">
                @for (paragraph of paragraphs; track $index) {
                    <p><app-typing-text [text]="paragraph" [speed]="25" [delay]="getDelay($index, 25)" [infinite]="false" /></p>
                }
            </div>
        </div>

        <div class="cards">
            @defer (on viewport) {
                <mat-card class="card fetch-animation border-1" appearance="outlined">
                    <mat-card-header>
                        <mat-icon class="gradient-text-1" [style.font-size.px]="45" [style.width.px]="50" [style.height.px]="50" mat-card-avatar>school</mat-icon>
                        <mat-card-title class="gradient-text-1">Education</mat-card-title>
                        <mat-card-subtitle>Universidad Nacional de Ingeniería</mat-card-subtitle>
                    </mat-card-header>
                    <mat-card-content>
                        <p>
                            I hold a Bachelor's degree in Electronic Engineering from <abbr matTooltip="Universidad Nacional de Ingeniería">UNI</abbr>.
                        </p>
                        <p>Coming soon...</p>
                    </mat-card-content>
                    <mat-card-actions class="card-actions" align="end">
                        <button mat-button disabled routerLink="/education">See more</button>
                    </mat-card-actions>
                </mat-card>
            }
            @placeholder { <div [style.height.px]="500"></div> }
            @loading { <div [style.height.px]="500"></div> }
            
            @defer (on viewport) {
                <mat-card class="card fetch-animation border-2" appearance="outlined">
                    <mat-card-header>
                        <mat-icon class="gradient-text-2" [style.font-size.px]="45" [style.width.px]="50" [style.height.px]="50" mat-card-avatar>work</mat-icon>
                        <mat-card-title class="gradient-text-2">Work Experience</mat-card-title>
                        <mat-card-subtitle>{{ lastCompany().name }}</mat-card-subtitle>
                    </mat-card-header>
                    <mat-card-content>
                        <p>Currently, I'm working at <b>{{ lastCompany().name }}</b> as <b>{{ lastJob().position }}</b> where my responsibilities are:</p>
                        <ul>
                            @for (responsibility of lastJob().responsibilities; track responsibility) {
                                <li>{{ responsibility }}</li>
                            }
                        </ul>
                    </mat-card-content>
                    <mat-card-actions class="card-actions" align="end">
                        <button mat-button routerLink="/experience">See more</button>
                    </mat-card-actions>
                </mat-card>
            }
            @placeholder { <div [style.height.px]="500"></div> }
            @loading { <div [style.height.px]="500"></div> }
            
            @defer (on viewport) {
                <mat-card class="card fetch-animation border-3" appearance="outlined">
                    <mat-card-header>
                        <mat-icon class="gradient-text-3" [style.font-size.px]="45" [style.width.px]="50" [style.height.px]="50" mat-card-avatar>translate</mat-icon>
                        <mat-card-title class="gradient-text-3">Spoken Languages</mat-card-title>
                        <mat-card-subtitle>Language skills</mat-card-subtitle>
                    </mat-card-header>
                    <mat-card-content>
                        <mat-list>
                            <div matSubheader>Proficient in</div>
                            <mat-chip-set class="padding-10-h">
                                @for (lang of principalLangs; track lang) {
                                    <mat-chip routerLink="/skills/{{ lang.path }}" matTooltip="{{ lang.level }}">
                                        <img matChipAvatar src="{{ lang.image }}" />
                                        {{ lang.name }}
                                    </mat-chip>
                                }
                            </mat-chip-set>
                            <div matSubheader>Learning</div>
                            <p>
                                <mat-chip-set class="padding-10-h">
                                    @for (lang of learningLangs; track lang) {
                                        <mat-chip routerLink="/skills/{{ lang.path }}" matTooltip="{{ lang.level }}">
                                            <img matChipAvatar src="{{ lang.image }}" />
                                            {{ lang.name }}
                                        </mat-chip>
                                    }
                                </mat-chip-set>
                            </p>
                        </mat-list>
                    </mat-card-content>
                    <mat-card-actions class="card-actions" align="end">
                        <button mat-button routerLink="/skills">See more</button>
                    </mat-card-actions>
                </mat-card>
            }
            @placeholder { <div [style.height.px]="500"></div> }
            @loading { <div [style.height.px]="500"></div> }

            @defer (on viewport) {
                <mat-card class="card fetch-animation border-3" appearance="outlined">
                    <mat-card-header>
                        <mat-icon class="gradient-text-3" [style.font-size.px]="45" [style.width.px]="50" [style.height.px]="50" mat-card-avatar>code</mat-icon>
                        <mat-card-title class="gradient-text-3">Tech Stack</mat-card-title>
                        <mat-card-subtitle>My best skills</mat-card-subtitle>
                    </mat-card-header>
                    <mat-card-content>
                        <mat-chip-set class="padding-10-h">
                            @for (skill of principalHSTags; track skill) {
                                <mat-chip routerLink="/skills/{{ skill.path }}" matTooltip="{{ skill.level }}">
                                    <img matChipAvatar src="{{ skill.image }}" />
                                    {{ skill.name }}
                                </mat-chip>
                            }
                        </mat-chip-set>
                    </mat-card-content>
                    <mat-card-actions class="card-actions" align="end">
                        <button mat-button routerLink="/skills">See more</button>
                    </mat-card-actions>
                </mat-card>
            }
            @placeholder { <div [style.height.px]="500"></div> }
            @loading { <div [style.height.px]="500"></div> }

            @defer (on viewport) {
                <mat-card class="card fetch-animation border-3" appearance="outlined">
                    <mat-card-header>
                        <mat-icon class="gradient-text-3" [style.font-size.px]="45" [style.width.px]="50" [style.height.px]="50" mat-card-avatar>electric_bolt</mat-icon>
                        <mat-card-title class="gradient-text-3">Soft Skills</mat-card-title>
                        <mat-card-subtitle>My most ranked soft skills</mat-card-subtitle>
                    </mat-card-header>
                    <mat-card-content>
                        <mat-chip-set class="padding-10-h">
                            @for (skill of principalSSTags; track skill) {
                                <mat-chip routerLink="/skills" matTooltip="{{ skill.description }}">
                                    {{ skill.name }}
                                </mat-chip>
                            }
                        </mat-chip-set>
                    </mat-card-content>
                    <mat-card-actions class="card-actions" align="end">
                        <button mat-button routerLink="/skills">See more</button>
                    </mat-card-actions>
                </mat-card>
            }
            @placeholder { <div [style.height.px]="500"></div> }
            @loading { <div [style.height.px]="500"></div> }
            
            @defer (on viewport) {
                <mat-card class="card fetch-animation border-4" appearance="outlined">
                    <mat-card-header>
                        <mat-icon class="gradient-text-4" [style.font-size.px]="45" [style.width.px]="50" [style.height.px]="50" mat-card-avatar>workspace_premium</mat-icon>
                        <mat-card-title class="gradient-text-4">Certificates</mat-card-title>
                        <mat-card-subtitle>My latest certificates</mat-card-subtitle>
                    </mat-card-header>
                    <mat-card-content>
                        <mat-list class="grid-button-list">
                            @for (certificate of latestCerts; track certificate) {
                                <mat-list-item>
                                    <img matListItemAvatar [src]="certificate.image"/>
                                    <span matListItemTitle>{{ certificate.name }}</span>
                                    <span>{{ parseDate(certificate.date) | date: 'MMMM dd, yyyy' }}</span>
                                </mat-list-item>
                            }
                        </mat-list>
                    </mat-card-content>
                    <mat-card-actions class="card-actions" align="end">
                        <button mat-button routerLink="/certs">See more</button>
                    </mat-card-actions>
                </mat-card>
            }
            @placeholder { <div [style.height.px]="500"></div> }
            @loading { <div [style.height.px]="500"></div> }
            
            @defer (on viewport) {
                <mat-card class="card fetch-animation border-1" appearance="outlined">
                    <mat-card-header>
                        <mat-icon class="gradient-text-1" [style.font-size.px]="45" [style.width.px]="50" [style.height.px]="50" mat-card-avatar>emoji_events</mat-icon>
                        <mat-card-title class="gradient-text-1">Achievements</mat-card-title>
                        <mat-card-subtitle></mat-card-subtitle>
                    </mat-card-header>
                    <mat-card-content>
                        <p>
                            Coming soon...
                        </p>
                    </mat-card-content>
                    <mat-card-actions class="card-actions" align="end">
                        <button mat-button disabled routerLink="/achievements">See more</button>
                    </mat-card-actions>
                </mat-card>
            }
            @placeholder { <div [style.height.px]="500"></div> }
            @loading { <div [style.height.px]="500"></div> }
            
            @defer (on viewport) {
                <mat-card class="card fetch-animation border-2" appearance="outlined">
                    <mat-card-header>
                        <mat-icon class="gradient-text-2" [style.font-size.px]="45" [style.width.px]="50" [style.height.px]="50" mat-card-avatar>military_tech</mat-icon>
                        <mat-card-title class="gradient-text-2">Badges</mat-card-title>
                        <mat-card-subtitle></mat-card-subtitle>
                    </mat-card-header>
                    <mat-card-content>
                        <p>
                            Coming soon...
                        </p>
                    </mat-card-content>
                    <mat-card-actions class="card-actions" align="end">
                        <button mat-button disabled routerLink="/badges">See more</button>
                    </mat-card-actions>
                </mat-card>
            }
            @placeholder { <div [style.height.px]="500"></div> }
            @loading { <div [style.height.px]="500"></div> }

            @defer (on viewport) {
                <mat-card class="card fetch-animation border-3" appearance="outlined">
                    <mat-card-header>
                        <mat-icon class="gradient-text-3" [style.font-size.px]="45" [style.width.px]="50" [style.height.px]="50" mat-card-avatar>interests</mat-icon>
                        <mat-card-title class="gradient-text-3">Cybersecurity Interest</mat-card-title>
                        <mat-card-subtitle></mat-card-subtitle>
                    </mat-card-header>
                    <mat-card-content>
                        <p>Coming soon...</p>
                    </mat-card-content>
                    <mat-card-actions class="card-actions" align="end">
                        <button mat-button disabled routerLink="/about">See more</button>
                    </mat-card-actions>
                </mat-card>
            }
            @placeholder { <div [style.height.px]="500"></div> }
            @loading { <div [style.height.px]="500"></div> }
            
            @defer (on viewport) {
                <mat-card class="card fetch-animation border-3" appearance="outlined">
                    <mat-card-header>
                        <mat-icon class="gradient-text-3" [style.font-size.px]="45" [style.width.px]="50" [style.height.px]="50" mat-card-avatar>interests</mat-icon>
                        <mat-card-title class="gradient-text-3">Personal Interests</mat-card-title>
                        <mat-card-subtitle></mat-card-subtitle>
                    </mat-card-header>
                    <mat-card-content>
                        <p>Beyond coding, I love learning new languages. I currently have a 700+ day streak on Duolingo, learning French, German, Portuguese and Swedish!</p>
                        <p>Coming soon...</p>
                    </mat-card-content>
                    <mat-card-actions class="card-actions" align="end">
                        <button mat-button disabled routerLink="/about">See more</button>
                    </mat-card-actions>
                </mat-card>
            }
            @placeholder { <div [style.height.px]="500"></div> }
            @loading { <div [style.height.px]="500"></div> }
        </div>
    </div>
}
