<div class="flex-container">
    @if (tag) {
        <p
            [style.font-size]="'3rem'"
            [style.text-align]="'center'"
            [style.margin]="load() ? '0px' : '20px'"
            [style.height]="load() ? '0px' : '75vh'"
            [style.opacity]="load() ? '0' : '1'"
            [style.transform]="load() ? 'translateY(-100px)' : 'translateY(0)'"
            [style.transition]="'height 1s ease-in-out, margin 1s ease-in-out, opacity 0.5s ease-in-out, transform 1s ease-in-out'"
            [style.display]="hide() ? 'none' : 'flex'"
            [style.justify-content]="'center'"
            [style.align-items]="'center'"
        >
            <app-typing-text [text]="'&nbsp;' + title" [infinite]="false"/>
        </p>
        @if (load()) {
            <mat-list
                [style.max-width]="'720px'"
                [style.padding]="'50px'"
            >
                <mat-list-item class="skill-chip" [style.height.px]="120">
                    <mat-icon matListItemIcon [style.width.px]="100" [style.height.px]="100">
                        <img height="100px" [src]="tag.image" [alt]="tag.name">
                    </mat-icon>
                    <div matListItemTitle [style.font-size]="'3em'" [style.text-overflow]="'no-wrap'">{{ tag.name }}</div>
                    <div matListItemLine>
                        <mat-chip>
                            <mat-icon matChipAvatar>
                                @switch (tag.level) {
                                    @case ('Basic') { signal_cellular_alt_1_bar }
                                    @case ('Medium') { signal_cellular_alt_2_bar }
                                    @case ('High') { signal_cellular_alt }
                                    @case ('Expert') { verified }
                                    @default { }
                                }
                            </mat-icon>
                            {{ tag.level }}
                        </mat-chip>
                    </div>
                </mat-list-item>
            </mat-list>
            @if (relatedCertificates().length > 0) {
                <p class="section-title"
                    [style.width]="'100%'"
                    [style.max-width]="'720px'"
                    [style.font-size]="'2em'"
                    [style.padding]="'0px 20px'"
                    [style.margin]="'0px'"
                    [style.box-sizing]="'border-box'"
                >Related Certificates</p>
                <div class="grid-list">
                    @for (certificate of relatedCertificates(); track $index) {
                        <app-cert-box [certificate]="certificate" [index]="$index" [allEntities]="allEntities()" />
                    }
                </div>
            }
            @if (relatedProjects().length > 0) {
                <p class="section-title"
                    [style.width]="'100%'"
                    [style.max-width]="'720px'"
                    [style.font-size]="'2em'"
                    [style.padding]="'0px 20px'"
                    [style.margin]="'0px'"
                    [style.box-sizing]="'border-box'"
                >Related Projects</p>
                <div class="grid-list">
                    @for (project of relatedProjects(); track project) {
                        <app-project-box [project]="project" [index]="$index % 4 + 1" />
                    }
                </div>
            }
            <button mat-fab (click)="scrollUp()"><mat-icon>arrow_upward</mat-icon></button>
            <br>
        }
    } @else {
        <div class="chunk">
            <mat-spinner></mat-spinner>
        </div>
    }
</div>
